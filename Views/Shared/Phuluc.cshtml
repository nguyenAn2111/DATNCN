<!DOCTYPE html>
<html>
<!--phần đầu-->
<head>
    <title>Phuluc</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/2f8895050a.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <style>
        .list-group.item6 {
            background-color: #001F54;
            color: #FEFCFB !important;
        }

        .content {
            display: none; /* Mặc định ẩn các bảng */
            overflow: hidden;
            margin-top: 1rem;
        }
        table{
            width: 100%;
        }
        .collapsible {
            background-color: #034078;
            font-family: Lato;
            font-size: 1rem;
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 10px;
            cursor: pointer;
        }

        .collapsible:hover {
            transform: scale(1.05);
            background-color: #1282A2;
        }

        .collapsible.active ~ .content {
            display: block;
        }
    </style>
</head>
<body>
        <div class="surgery-schedule">
            <div class="surgery-major">
                <div class="surgery-title">
                    📁 PHỤ LỤC VÀ TRA CỨU
                </div>
            </div>
        </div>

        <div class="maintain-data">
        <section class="maintain-title" id="kehoach">
            1. Tra cứu tên viết tắt các loại máy
        </section>
        <input name="searchString" id="searchInput" style="width: 21rem; margin-bottom: 0rem;" type="text" placeholder="🔍Tìm kiếm tên loại máy">
            <div class="function-card">
                <button class="collapsible">Nhóm Thiết Bị Chẩn Đoán</button><br>
                <div class="content">
                    <table>
                        <tr>
                            <th>Loại thiết bị</th>
                            <th>Mã</th>
                            <th>Chức năng</th>
                        </tr>
                        <tr>
                            <td>Máy siêu âm</td>
                            <td>US</td>
                            <td>Chẩn đoán hình ảnh bằng sóng siêu âm.</td>
                        </tr>
                        <tr>
                            <td>Máy X-quang</td>
                            <td>XQ</td>
                            <td>Chụp X-quang để kiểm tra tổn thương bên trong.</td>
                        </tr>
                        <tr>
                            <td>Máy CT Scan</td>
                            <td>CT</td>
                            <td>Chụp cắt lớp vi tính, giúp chẩn đoán chính xác hơn.</td>
                        </tr>
                        <tr>
                            <td>Máy MRI</td>
                            <td>MRI</td>
                            <td>Chụp cộng hưởng từ, giúp chẩn đoán chính xác hơn.</td>
                        </tr>
                        <tr>
                            <td>Máy điện tim</td>
                            <td>ECG</td>
                            <td>Ghi lại hoạt động điện tim.</td>
                        </tr>
                        <tr>
                            <td>Máy đo điện não đồ</td>
                            <td>EEG</td>
                            <td>Kiểm tra hoạt động điện não.</td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="function-card">
                <button class="collapsible">Nhóm Thiết Bị Điều Trị</button><br>
                <div class="content">
                    <table>
                        <tr>
                            <th>Loại thiết bị</th>
                            <th>Mã</th>
                            <th>Chức năng</th>
                        </tr>
                        <tr>
                            <td>Máy thở</td>
                            <td>VENT</td>
                            <td>Hỗ trợ hô hấp cho bệnh nhân.</td>
                        </tr>
                        <tr>
                            <td>Máy gây mê</td>
                            <td>ANES</td>
                            <td>Gây mê trong quá trình phẫu thuật.</td>
                        </tr>
                        <tr>
                            <td>Máy truyền dịch</td>
                            <td>IV</td>
                            <td>Truyền dịch và thuốc cho bệnh nhân.</td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="function-card">
                <!-- Section 3: Phẫu Thuật & Nội Soi -->
                <button class="collapsible">Nhóm Dụng Cụ Phẫu Thuật & Nội Soi</button><br>
                <div class="content">
                    <table>
                        <tr>
                            <th>Loại thiết bị</th>
                            <th>Mã</th>
                            <th>Chức năng</th>
                        </tr>
                        <tr>
                            <td>Máy nội soi</td>
                            <td>ENDO</td>
                            <td>Quan sát bên trong cơ thể.</td>
                        </tr>
                        <tr>
                            <td>Kính hiển vi phẫu thuật</td>
                            <td>OPMIC</td>
                            <td>Hỗ trợ phẫu thuật vuốt vết phòng đại cao.</td>
                        </tr>
                        <tr>
                            <td>Hệ thống robot phẫu thuật</td>
                            <td>ROBOT-S</td>
                            <td>Hỗ trợ thực hiện phẫu thuật chính xác.</td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="function-card">
                <!-- Section 4: Xét Nghiệm -->
                <button class="collapsible">Nhóm Thiết Bị Xét Nghiệm</button><br>
                <div class="content">
                    <table>
                        <tr>
                            <th>Loại thiết bị</th>
                            <th>Mã</th>
                            <th>Chức năng</th>
                        </tr>
                        <tr>
                            <td>Máy xét nghiệm sinh hóa</td>
                            <td>BIO</td>
                            <td>Kiểm tra các chỉ số sinh hóa máu.</td>
                        </tr>
                        <tr>
                            <td>Máy xét nghiệm huyết học</td>
                            <td>HEMO</td>
                            <td>Kiểm tra tế bào máu.</td>
                        </tr>
                        <tr>
                            <td>Máy xét nghiệm nước tiểu</td>
                            <td>URINE</td>
                            <td>Phân tích nước tiểu để chẩn đoán bệnh.</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>


    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Biến để theo dõi trạng thái tìm kiếm
            let isSearching = false;

            // Xử lý collapsible buttons
            const coll = document.getElementsByClassName("collapsible");
            for (let i = 0; i < coll.length; i++) {
                coll[i].addEventListener("click", function () {
                    // Nếu đang trong chế độ tìm kiếm thì không xử lý
                    if (isSearching) return;

                    this.classList.toggle("active");
                    const content = this.nextElementSibling;

                    // Hiển thị/ẩn content tương ứng
                    if (this.classList.contains("active")) {
                        content.style.display = "block";
                        // Hiển thị tất cả các hàng
                        const rows = content.querySelectorAll("tr");
                        rows.forEach(row => row.style.display = "");
                    } else {
                        content.style.display = "none";
                    }
                });
            }

            // Xử lý tìm kiếm
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", function () {
                const searchTerm = this.value.toLowerCase();

                if (searchTerm === "") {
                    // Khi xóa hết nội dung tìm kiếm
                    isSearching = false;
                    document.querySelectorAll(".content").forEach(content => {
                        content.style.display = "none";
                    });
                    document.querySelectorAll(".collapsible").forEach(btn => {
                        btn.classList.remove("active");
                    });
                } else {
                    // Khi có nội dung tìm kiếm
                    isSearching = true;
                    const tables = document.querySelectorAll(".content table");

                    tables.forEach(table => {
                        const rows = table.querySelectorAll("tr:not(:first-child)");
                        let hasMatch = false;

                        rows.forEach(row => {
                            const cells = row.querySelectorAll("td");
                            let rowContainsText = false;

                            cells.forEach(cell => {
                                if (cell.textContent.toLowerCase().includes(searchTerm)) {
                                    rowContainsText = true;
                                }
                            });

                            if (rowContainsText) {
                                row.style.display = "";
                                hasMatch = true;
                            } else {
                                row.style.display = "none";
                            }
                        });

                        const parentContent = table.closest(".content");
                        const collapsible = parentContent.previousElementSibling;

                        if (hasMatch) {
                            parentContent.style.display = "block";
                            collapsible.classList.add("active");
                        } else {
                            parentContent.style.display = "none";
                            collapsible.classList.remove("active");
                        }
                    });
                }
            });
        });
    </script>
</body>
